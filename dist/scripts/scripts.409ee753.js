"use strict";function dealFactory(a,b){return a("/",{},{search:{url:b.api+"/deal",method:"GET"},getLocations:{url:b.api+"/deal/location",method:"GET"}})}angular.module("msieurtoph.ngCheckboxes",[]).directive("mtTo",["$timeout",function(a){return{restrict:"A",controller:["$parse","$attrs","$scope",function(b,c,d){var e=b(c.mtTo),f=e.assign,g=this;this.get=function(){return e(d)||[]},this.set=function(a){return f(d,angular.copy(a))},this.indexOf=function(a){for(var b=g.get(),c=0,d=b.length;d>c;c++)if(angular.equals(b[c],a))return c;return-1},this.add=function(b){a(function(){if(-1===g.indexOf(b)){var a=g.get();a.push(b),g.set(a)}})},this.remove=function(b){a(function(){var a=g.indexOf(b);if(-1!==a){var c=g.get();c.splice(a,1),g.set(c)}})}}]}}]).directive("mtCheckbox",[function(){function a(){return"mtCheckBox_"+ ++b}var b=0;return{restrict:"A",require:["mtCheckbox","^mtTo","?ngModel"],controller:["$attrs","$parse","$scope",function(b,c,d){var e=c(b.mtCheckbox),f=e.assign;""===b.mtCheckbox?this.value=b.name&&""!==b.name?b.name:a():angular.isFunction(f)?Object.defineProperty(this,"value",{enumerable:!0,get:function(){return e(d)},set:function(a){f(d,a)}}):this.value=e(d),this.state=void 0}],link:{pre:function(a,b,c,d){var e=d[0],f=d[1],g=d[2];e.hasNgModel=!!g,e.hasNgModel?a.$watch(c.ngModel,function(a,b){a!==b&&e.set(a)}):b.on("change",function(){e.set(!e.state)}),a.$watchCollection(function(){return-1!==f.indexOf(e.value)},function(a){e.set(a)}),e.set=function(a){return e.hasNgModel&&a!==g.$modelValue?void g.$setViewValue(a):void(e.state!==a&&"boolean"==typeof a&&(e.state=!!a,b[0].checked=e.state,f[e.state?"add":"remove"](e.value)))}}}}}]),angular.module("lendingrealApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ngMessages","uiGmapgoogle-maps","ui.bootstrap","ui.slider","msieurtoph.ngCheckboxes","lendingrealApp.config","satellizer"]).config(["$routeProvider","$locationProvider","uiGmapGoogleMapApiProvider","$authProvider",function(a,b,c,d){a.when("/",{templateUrl:"/views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"/views/about.html",controller:"AboutCtrl"}).when("/broker",{templateUrl:"/views/broker.html",controller:"BrokerCtrl"}).otherwise({redirectTo:"/"}),b.html5Mode(!0),c.configure({key:"AIzaSyABGWto424RnkCXFGIcpiDP2EBodbFYXGg",v:"3.23",libraries:"weather,geometry,visualization"}),d.linkedin({clientId:"77i9z8qo62yo0a",url:"/auth/linkedin",authorizationEndpoint:"https://www.linkedin.com/uas/oauth2/authorization",redirectUri:window.location.origin,requiredUrlParams:["state"],scope:[],scopeDelimiter:" ",state:"STATE",type:"2.0",popupOptions:{width:527,height:582}})}]),function(){angular.module("lendingrealApp.config",[]).constant("Config",{api:"http://localhost:8000"})}(),angular.module("lendingrealApp").controller("HeaderCtrl",["$scope","$uibModal",function(a,b){a.openLogin=function(){b.open({animation:a.animationsEnabled,templateUrl:"/views/shared/login.html",controller:"LoginCtrl"})}}]),angular.module("lendingrealApp").controller("LoginCtrl",["$scope","$location","$auth",function(a,b,c){a.login=function(){c.login(a.user).then(function(){b.path("/")})["catch"](function(a){})},a.authenticate=function(a){c.authenticate(a).then(function(){console.log("==== authenticate"),b.path("/")})["catch"](function(a){a.error||a.data})}}]),angular.module("lendingrealApp").controller("CarouselCtrl",["$scope","$window",function(a,b){function c(){var c=b.innerWidth;768>c?a.slides=[{id:0,image:"/images/slider-0-m.png"},{id:1,image:"/images/slider-1-m.png"},{id:2,image:"/images/slider-2-m.png"},{id:3,image:"/images/slider-3-m.png"},{id:4,image:"/images/slider-4-m.png"}]:c>=768&&(a.slides=[{id:0,image:"/images/slider-0.jpg"},{id:1,image:"/images/slider-1.jpg"},{id:2,image:"/images/slider-2.jpg"},{id:3,image:"/images/slider-3.jpg"},{id:4,image:"/images/slider-4.jpg"}])}a.myInterval=4e3,a.noWrapSlides=!1,a.active=0,b.onresize=function(){c(),a.$apply()},c()}]),angular.module("lendingrealApp").controller("StatinfoCtrl",["$scope","$location","$anchorScroll","$timeout",function(a,b,c,d){a.gotoAnchor=function(a){"/about"!==b.path()?(b.path("/about"),b.hash(a),c()):d(function(){b.hash("contact"),c()})}}]),angular.module("lendingrealApp").controller("MainCtrl",["$scope","$timeout","uiGmapGoogleMapApi","uiGmapIsReady","Deal",function(a,b,c,d,e){function f(){b(function(){var a,b=angular.element(".ui-slider-tick"),c=100;angular.forEach(b,function(b,d){0===b.parentNode.className.indexOf("ltv")?(c-=5,a=c):a=14-d;var e=angular.element(b);e.html("<span class='tip'>|</span><span class='tick-number'>"+a+"</span>")})},1e3)}function g(){a.map={center:{latitude:43.6532,longitude:-79.3832},zoom:12,bounds:{},control:{}}}function h(){e.getLocations({},function(b){a.locations=b.locations},function(a){console.log("setLocations error: "+a)})}function i(){a.search.annualReturnMin=a.annualReturnSlider[0]/100,a.search.annualReturnMax=a.annualReturnSlider[1]/100;var b={id:a.search.id,annual_return_min:a.search.annualReturnMin,annual_return_max:a.search.annualReturnMax,ltv_min:a.search.ltvMin,ltv_max:a.ltvSlider,"locations[]":a.search.locations,"statuses[]":a.search.status};e.search(b,function(b){var c=b.deals.data;console.log(c),a.deals=c,a.markers=c},function(a){console.log(a)})}a.imageText="Canada's First Marketplace for Homeowners and Private Lenders",a.annualReturnSlider=[9,12],a.ltvSlider=85,f(),a.deal={},a.search={},a.markers=[],a.marker={options:{icon:"/images/icon_pin_map.svg"}},c.then(function(a){}),d.promise().then(function(b){var c=b[0].map;a.toggleMap=function(b){"full"===b?(angular.element(".deal-box").hide(),angular.element(".map-box").css("width","100%")):(angular.element(".deal-box").show(),angular.element(".map-box").css("width","50%")),angular.element(".toggle-map-btn").toggleClass("map-toggle-hover");var d=c.getCenter(),e={};e.latitude=d.lat(),e.longitude=d.lng(),a.map.control.refresh(e)}}),a.search=function(){i()},g(),h(),i(),a.openDropdown=function(a){$(a.target).parent().is(".open")?$(".select-btn").removeClass("open"):($(".select-btn").removeClass("open"),$(a.target).parent().toggleClass("open"))},angular.element("body").on("click",function(a){$(".dropdown-menu").is(a.target)||0!==$(".dropdown-menu").has(a.target).length||0!==$(".open").has(a.target).length||$(".select-btn").removeClass("open")})}]).factory("Deal",["$resource","Config",dealFactory]),angular.module("lendingrealApp").controller("AboutCtrl",["$scope","$http","Config",function(a,b,c){a.imageText="Canada’s First Marketplace for Homeowners and Private Lenders",a.imageSubText="",a.closeFormMsg=function(){angular.element(".form-msg").hide()},a.customerInfo={},a.diasble_btn=!1,a.submitCustomer=function(){var d=a.customerInfo;b.post(c.api+"/customer",d).success(function(b,c){a.form_msg="You have successfully submitted your application.",a.diasble_btn=!0})},a.team=[{img:"http://placehold.it/250x250",name:"Xin Yi Shen",title:"Co-founder & CEO",description:"Christian is a qualified lawyer with corporate finance, real estate experience and has been involved in the mortgage industry in the UK and Australia for over 10 years. He was previously a securitisation lawyer at Clifford Chance, and in-house legal counsel for Deutsche Bank; and was involved in a mortgage lending business in Australia."},{img:"http://placehold.it/250x250",name:"Wei Huang",title:"Co-founder & CEO",description:"Christian is a qualified lawyer with corporate finance, real estate experience and has been involved in the mortgage industry in the UK and Australia for over 10 years. He was previously a securitisation lawyer at Clifford Chance, and in-house legal counsel for Deutsche Bank; and was involved in a mortgage lending business in Australia."}]}]),angular.module("lendingrealApp").controller("BrokerCtrl",["$scope",function(a){a.imageText="Canada’s First Marketplace for Homeowners and Private Lenders",a.imageSubText="",a.reasons=["You get more deals and make more money","We provide you with one of the Largest Private Money Pools","Receive a finder’s fee, in addition to the full broker fee","We promise Same Day Turn-Around-Bridge Ends","We send deals to you too"],a.steps=[{image:"",title:"Create a Broker Profile",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam nulla magna, tempus in efficitur sit amet, iaculis nec orci. In hac habitasse platea dictumst."},{image:"",title:"Provide Deal Information",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam nulla magna, tempus in efficitur sit amet, iaculis nec orci. In hac habitasse platea dictumst."},{image:"",title:"Close Deal and Earn Finder’s Fee",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam nulla magna, tempus in efficitur sit amet, iaculis nec orci. In hac habitasse platea dictumst."}],a.testimonials=[{image:"",name:"LULU HOFFMAN",quote:"Two weeks before closing, I’ve tried all banks but still wasn’t able to get money in time. That was the time when I met P2P. They helped me complete the whole process within a week. I feel really grateful."},{image:"",name:"DUSTIN GONZALES",quote:"I feel much more flexible working with P2P compared to traditional banks. They will sit down with you, listen to your needs, and tailor the contacts to meet every single item important to you."},{image:"",name:"ELSIE DUNKAN",quote:"I got the lowest rate from P2P among all the second mortgage lending companies that I’ve tried. I would definitely recommend it to my other friends."}],a.faqs=[{title:"What products do you offer?",content:"We are currently focusing on second mortgages. First mortgages and appreciation."},{title:"How long does it take to get a loan?",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam nulla magna, tempus in efficitur sit amet, iaculis nec orci. In hac habitasse platea dictumst."},{title:"How does the process of getting a loan work?",content:"We are currently focusing on "},{title:"What documents are required for application?",content:"We are currently focusing on "},{title:"Where do you currently operate?",content:"We are currently focusing on "}]}]);